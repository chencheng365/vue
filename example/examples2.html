<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>实例方法</title>
  <script src="../assets/js/vue.js"></script>
  <script src="../assets/js/jquery-3.1.1.min.js"></script>
</head>
<body>
  <h1>实例方法</h1>
  <hr>
  <div id="app"></div>
  <p><button onclick="destroy()">卸载</button></p>
  <p><button onclick="reload()">刷新</button></p>
  <p><button onclick="tick()">修改</button></p>
</body>
<script>
var orange = Vue.extend({
  template:`<p>{{msg}}</p>`,
  data:function(){
    return {
      msg:'orange扩展，然后用$mount的方法把orange挂载到DOM上'
    }
  },
  destroyed:function(){
    console.log('卸载完成');
  },
  updated:function(){
    console.log("updated 被更新后");
  }
})
var vm = new orange().$mount("#app");

// $destroy() 卸载方法
function destroy(){
  vm.$destroy();
}

// $forceUpdate() 更新方法
function reload(){
  vm.$forceUpdate();
}

// $nextTick() 数据修改方法
function tick(){
    vm.msg="update message info ";
    vm.$nextTick(function(){
        console.log('message更新完后我被调用了');
    })
}
</script>
</html>